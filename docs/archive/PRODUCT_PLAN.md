# 더부동산 통합 관리 시스템 기획서 (업데이트)

## 1. 시스템 개요

'더부동산 통합 관리 시스템'은 부동산 중개사무소를 위한 종합 관리 플랫폼입니다. 매물 관리, 직원 성과 분석, 고객 관리, 그리고 데이터 기반 의사결정을 지원하는 기능을 제공합니다.

## 2. 사용자 권한 체계

### 2.1. 사용자 유형
- **관리자**: 모든 기능과 데이터에 접근 가능, 직원 관리 권한 보유
- **직원**: 본인 매물과 성과에 접근 가능, 제한된 정보만 열람 가능

### 2.2. 계정 관리
- **계정 생성**: 관리자만 직원 계정 생성 가능
- **이메일 도메인 제한**: `@the-realty.co.kr` 도메인만 사용 가능
- **비밀번호 정책**: 직원은 본인 비밀번호 변경 가능, 최소 8자 이상, 영문/숫자/특수문자 조합

## 3. 핵심 기능

### 3.1. 대시보드
- **관리자 대시보드**
  - 전체 매물 통계 (상태별, 유형별)
  - 채널별 문의량 분석
  - 가격대별 매물 분포
  - 직원별 성과 요약
  - 주간/월간 거래 추이

- **직원 대시보드**
  - 본인 매물 현황
  - 본인 성과 지표
  - 회사 평균 대비 개인 성과
  - 진행 중인 거래 요약

### 3.2. 매물 관리
- **전체 매물 목록**
  - 모든 직원에게 표시됨
  - 고객 연락처는 기본적으로 숨김 처리
  - 필터링 및 검색 기능 (지역, 유형, 가격대, 상태 등)
  
- **개인 매물 목록**
  - 직원 본인이 등록한 매물만 표시
  - 고객 연락처가 완전히 표시됨
  - 매물 상세 관리 및 히스토리 조회

- **매물 등록/수정**
  - 팝업 또는 별도 페이지로 구현
  - 필수 입력 필드 검증
  - 매물 상태 변경 시 히스토리 기록

### 3.3. 퍼널 분석
- **전환율 분석**
  - 문의 → 상담 → 임장 → 계약 단계별 전환율
  - 시계열 분석 (일간/주간/월간)
  - 채널별 효율성 비교

- **이탈 원인 분석**
  - 각 단계별 이탈 사유 분석
  - 개선 포인트 도출

### 3.4. 직원 성과
- **개인 성과 분석**
  - 개인별 KPI 달성률
  - 문의 응대, 상담, 계약 건수
  - 시간대별 활동 분석
  
- **비교 분석**
  - 회사 평균 대비 개인 성과
  - 직원 간 성과 비교 (옵션)
  - 시계열 추이 분석

### 3.5. 자동화 제안서
- **매물 기반 자동 제안서 생성**
- **템플릿 기반 커스터마이징**
- **PDF 내보내기 기능**

## 4. 데이터베이스 스키마 (확장)

### 4.1. 기존 테이블
- **properties**: 매물 정보
- **property_types**: 매물 유형
- **transaction_types**: 거래 유형
- **property_statuses**: 매물 상태

### 4.2. 추가 테이블
- **users**: 사용자 정보
  - id, email, name, role, password_hash, created_at, updated_at, last_login
  
- **roles**: 사용자 권한
  - id, name, permissions, description
  
- **property_history**: 매물 상태 변경 히스토리
  - id, property_id, user_id, previous_status, new_status, notes, created_at
  
- **customer_contacts**: 고객 연락처 정보
  - id, property_id, name, phone, email, notes, created_at, updated_at
  
- **funnel_stages**: 퍼널 단계 정의
  - id, name, order, description
  
- **funnel_events**: 퍼널 이벤트 로그
  - id, property_id, customer_id, user_id, stage_id, previous_stage_id, notes, created_at

## 5. UI 구성

### 5.1. 로그인 화면
- 이메일/비밀번호 입력
- 비밀번호 재설정 기능

### 5.2. 메인 네비게이션
- 대시보드
- 매물 관리
  - 전체 매물
  - 내 매물
- 퍼널 분석
- 직원 성과
- 자동화 제안서
- 설정 (관리자만 접근 가능)

### 5.3. 매물 관리 화면
- 목록/그리드 뷰 전환 가능
- 좌측 필터 패널
- 우상단 매물 등록 버튼
- 매물 카드/행에 빠른 액션 버튼
- 상세 정보 모달/페이지

### 5.4. 관리자 설정 화면
- 직원 관리 탭
  - 직원 목록
  - 직원 추가 버튼
  - 직원 상세 정보 및 권한 설정
- 시스템 설정 탭
  - 매물 타입, 상태 등 기초 데이터 관리
  - 데이터 백업/복원
  - 로그 조회

## 6. 기술 스택

- **프론트엔드**: React, TailwindCSS
- **백엔드**: Supabase (인증, 데이터베이스, 스토리지)
- **차트 및 시각화**: Recharts
- **배포**: GitHub Pages

## 7. 구현 우선순위 및 로드맵

### 7.1. 1단계 (기초 기능)
1. 사용자 인증 및 권한 시스템
2. 기본 매물 관리 기능
3. 개인/전체 매물 목록 구분

### 7.2. 2단계 (핵심 기능)
1. 매물 등록/수정 기능 개선
2. 대시보드 기본 통계
3. 직원 성과 기본 지표

### 7.3. 3단계 (고급 기능)
1. 퍼널 분석 시스템
2. 고급 시각화 및 비교 분석
3. 자동화 제안서 생성

## 8. 고려사항 및 추가 요구사항

- **데이터 보안**: 고객 연락처 등 민감한 정보에 대한 접근 제어
- **반응형 디자인**: 모바일 및 태블릿 환경 지원
- **성능 최적화**: 대량의 매물 데이터 처리 및 빠른 검색 기능
- **확장성**: 향후 추가 기능 (계약 관리, 회계 연동 등) 고려
- **사용성**: 직관적인 UI/UX로 직원 교육 최소화

## 9. 테스트 및 검증 계획

- **개발 단계별 테스트**: 각 기능 구현 후 검증
- **사용자 테스트**: 실제 직원들을 대상으로 베타 테스트 진행
- **데이터 마이그레이션**: 기존 데이터 호환성 테스트
- **보안 검증**: 권한 설정 및 데이터 접근 제어 테스트
- **성능 테스트**: 대용량 데이터 처리 성능 검증